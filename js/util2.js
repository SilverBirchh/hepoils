---
---
jQuery(function(a){function b(d){const e=a(d.target).closest('div'),f=e.children()[0];return f.innerHTML}function c(d){const e=decodeURIComponent(window.location.search.substring(1)),f=e.split('&');let g,h;for(h=0;h<f.length;h++)if(g=f[h].split('='),g[0]===d)return void 0===g[1]||g[1]}(function(){if(location.pathname.includes('quote')){let d=c('message'),e=c('type');a('#message').val(d),a(`#${e}`).prop('checked',!0)}})(),a('.enquire').click(function(d){const e=`I would like to enquire about a supply of ${b(d)}.`;location.href='{{ site.baseurl }}'+`quote/?message=${e}&type=oil-col`})}),function(){function a(d,e){this.selector=null,e?this.nodes=e:'string'==typeof d?(this.selector=d,this.nodes=document.querySelectorAll(d)):this.nodes=[d],this.length=this.nodes.length,this.el=this.nodes[0]}function b(d){return new a(d)}function c(d,e){function f(hb,ib,jb){hb=hb||{},g(),!1!==ib&&k(),S=R=Q=null,T=-1,X=W=V=U=null,Y=!1,Z=null,aa=!1,ba=null,j(hb),l(),H(Q.transition_type,!0),R.find('#'+d+' .ism-caption').css('visibility','hidden'),v(),z(),n(Q.play_type),E(),setTimeout(function(){!0!==jb&&h()},1E3)}function g(){b('#'+d+'-ism-loading-mask').remove();var hb=document.createElement('DIV');hb.id=d+'-ism-loading-mask',hb.style.position='absolute',hb.style.zIndex=10,hb.style.top=0,hb.style.bottom=0,hb.style.left=0,hb.style.right=0,hb.style.backgroundColor='#eee',b('#'+d).el.appendChild(hb)}function h(){b('#'+d).show(),1==b('#'+d+'-ism-loading-mask').length&&b('#'+d+'-ism-loading-mask').fadeOut(400,function(){b('#'+d+'-ism-loading-mask').remove(),M(0),O(0)})}function j(hb){for(var ib in ca){var jb=typeof ca[ib];void 0==hb[ib]&&'object'!=jb&&(jb=b('#'+d).data(ib),void 0!=jb&&('true'===jb?jb=!0:'false'==jb&&(jb=!1),hb[ib]=jb))}for(ib in Q=hb||{},ca)void 0==Q[ib]&&(Q[ib]=ca[ib]);for(Q.captions=['Taking care of your cooking oil supply and collection','Collecting all types of kitchen waste','Delivering the finest grade produce','Operating in eco-friendly manner'],hb=b('#'+d+' ol > li'),ib=hb.length,jb=0;jb<ib;jb++){Q.captions[jb]=[];for(var kb=0;3>kb;kb++){var lb={enable:da[kb].enable,delay:da[kb].delay},mb=b(hb.get(jb)).find('.ism-caption-'+kb);1==mb.length&&(lb.enable=!0,mb=mb.data('delay'),isNaN(mb)||(lb.delay=parseInt(mb))),Q.captions[jb][kb]=lb}}}function k(){for(t(),N(),ba&&ba.unbindEventListeners(),w(),b('#'+d+' .ism-radios input.ism-radio, #'+d+' .ism-radios .ism-radio-label').off('click',A),b('#'+d+' .ism-radios input.ism-radio, #'+d+' .ism-radios .ism-radio-label').off('touchstart',A),C(),b('#'+d+' .ism-button').remove(),b('#'+d+' .ism-radios').remove(),b('#'+d+' .ism-cloned').remove(),b('#'+d+' .ism-tmp-clone').remove();0<b('#'+d+' .ism-frame').length;)b('#'+d+' .ism-slides').unwrap();0<b('#'+d+' .ism-img-frame').length&&b('#'+d+' .ism-img').unwrap(),b('#'+d+' .ism-caption').removeAttr('style'),b('#'+d+' .ism-slide').show(),b('#'+d+' .ism-slide').removeAttr('style'),b('#'+d+' .ism-slides').removeAttr('style'),b('#'+d+' .ism-img').removeClass('ism-img'),b('#'+d+' .ism-slide').removeClass('ism-slide ism-slide-0 ism-slide-1 ism-slide-2 ism-slide-3 ism-slide-4 ism-slide-5 ism-slide-6 ism-slide-7 ism-slide-8 ism-slide-9'),b('#'+d+' .ism-slides').removeClass('ism-slides'),b('#'+d).removeClass('active')}function l(){R=b('#'+d+' ol'),S=100/b('#'+d+' ol > li').length,T=0,R.addClass('ism-slides'),b('#'+d+' .ism-slides > li').addClass('ism-slide'),b('#'+d+' .ism-slides > .ism-slide > img, #'+d+' .ism-slides > .ism-slide > a > img').addClass('ism-img'),R.find('li').each(function(hb){this.addClass('ism-slide-'+hb)}),b('#'+d).wrapInner('<div class=\'ism-frame\'></div>'),R=b('#'+d+' ol.ism-slides'),b('#'+d+' .ism-img').wrap('<div class=\'ism-img-frame\'></div>')}function m(){return b('#'+d+' .ism-slide').length}function n(hb){Q.play_type=hb,C(),b('#'+d+' .ism-pause-button').remove(),Q.pause_button&&'manual'!=Q.play_type&&(R.after('<div class=\'ism-pause-button\'>&nbsp;</div>'),X=b('#'+d+' .ism-pause-button'),X.on('click',D),X.on('touchstart',D)),p()}function p(){Y=!0,b('#'+d+' .ism-pause-button').removeClass('ism-play'),'manual'!=Q.play_type&&(clearTimeout(Z),Z=setTimeout(r,Q.interval))}function q(hb){const ib=document.getElementById('home_caption');hb=4===hb?0:hb,hb=-1===hb?3:hb,ib.text=['Taking care of your cooking oil needs.','Collecting all types of kitchen waste.','Delivering the finest grade produce.','Operating in eco-friendly manner.'][hb]}function r(){var hb=T+1;Y&&'manual'!=Q.play_type&&('once'==Q.play_type&&T==m()-2?(I(hb),t()):'once-rewind'==Q.play_type&&T==m()-1?(I(0),t()):('loop'==Q.play_type&&T==m()-1?I(0):I(hb),p()))}function t(){Y=!1,clearTimeout(Z),Z=null,b('#'+d+' .ism-pause-button').addClass('ism-play')}function u(hb,ib){hb!=T&&(t(),I(hb,ib))}function v(){Q.buttons&&(R.after('<div class=\'ism-button ism-button-prev\'>&nbsp;</div><div class=\'ism-button ism-button-next\'>&nbsp;</div>'),U=b('#'+d+' .ism-button-prev'),V=b('#'+d+' .ism-button-next'),U.on('click',x),U.on('touchstart',x),V.on('click',y),V.on('touchstart',y))}function w(){b('#'+d+' .ism-button-prev').off('click',x),b('#'+d+' .ism-button-prev').off('touchstart',x),b('#'+d+' .ism-button-next').off('click',y),b('#'+d+' .ism-button-next').off('touchstart',y)}function x(hb){hb&&hb.preventDefault&&hb.preventDefault(),hb&&hb.stopPropagation&&hb.stopPropagation(),u(T-1)}function y(hb){hb&&hb.preventDefault&&hb.preventDefault(),hb&&hb.stopPropagation&&hb.stopPropagation(),u(T+1)}function z(){if(Q.radios){b('#'+d).append('<ul class=\'ism-radios\'></ul>'),W=b('#'+d+' .ism-radios'),'thumbnail'==Q.radio_type&&W.addClass('ism-radios-as-thumbnails');for(var hb=0;hb<m();hb++)0==hb?W.append('<li class=\'ism-radio-'+hb+' active\'><input type=\'radio\' name=\'ism-radio\' class=\'ism-radio\' id=\'ism-radio-'+hb+'\' checked=\'checked\' /><label class=\'ism-radio-label\' for=\'ism-radio-'+hb+'\'></label></li>'):W.append('<li class=\'ism-radio-'+hb+'\'><input type=\'radio\' name=\'ism-radio\' class=\'ism-radio\' id=\'ism-radio-'+hb+'\' /><label class=\'ism-radio-label\' for=\'ism-radio-'+hb+'\'></label></li>');b('#'+d+' .ism-radios input.ism-radio, #'+d+' .ism-radios .ism-radio-label').on('click',A),b('#'+d+' .ism-radios input.ism-radio, #'+d+' .ism-radios .ism-radio-label').on('touchstart',A)}}function A(hb){hb.preventDefault&&hb.preventDefault(),hb.stopPropagation&&hb.stopPropagation(),hb=b(hb.target.parentNode).index(),u(hb)}function B(hb){Q.radios&&(b('#'+d+' .ism-radios li').removeClass('active'),hb=b('#'+d+' .ism-radios li').get(hb),b(hb).addClass('active'),b(hb).find('input').attr('checked','checked'))}function C(){b('#'+d+' .ism-pause-button').off('click',D),b('#'+d+' .ism-pause-button').off('touchstart',D)}function D(hb){hb.preventDefault(),hb.stopPropagation(),Y?t():p()}function E(){var hb=b('#'+d).get(0),ib=R.get(0);ba=new Dragdealer(hb,ib,{steps:m(),x:0,speed:.2,loose:!0,requestAnimationFrame:!0,dragStartCallback:function(){t()},dragStopCallback:function(){new_slide_index=ba.getStep()[0]-1,Q.pause_button?t():p();var jb=new_slide_index,kb=T;T=jb,G('afterswipe',[jb]),B(jb),L(kb,jb,!1)},onAfterGlide:function(){ba.setStep(T+1,1,!0)}}),window.onload=function(){setTimeout(function(){ba.reflow()},150),setTimeout(function(){ba.reflow()},600)}}function F(){ba&&(ba.setStep(T+1,1,!0),ba.reflow())}function G(hb,ib){ea[hb]&&ea[hb].apply(this,ib)}function H(hb,ib){if(1==ib||hb!=Q.transition_type){Q.transition_type=hb,b('#'+d+' .ism-slide').removeClass('ism-zoom-in'),b('#'+d+' .ism-slide').show();var jb=m();R.css('width',100*jb+'%'),R.find('.ism-slide').each(function(kb){kb=S*kb+'%',this.css('width',100/jb+'%'),this.css('left',kb)})}}function I(hb,ib){if(q(hb),!0!=aa&&hb!=T){aa=!0;var jb=T;hb=parseInt(hb),0>hb?hb=m()-1:hb>=m()&&(hb=0);var kb=hb;B(kb),T=kb,G('beforetransition',[kb]),'instant'==Q.transition_type?(kb=hb,ba.setStep(kb+1,1,!0),L(jb,kb,!0,ib)):'slide'==Q.transition_type?J(jb,hb,ib):'fade'==Q.transition_type?K(jb,hb,!1,ib):'zoom'==Q.transition_type&&K(jb,hb,!0,ib)}}function J(hb,ib,jb){var kb=ib/(m()-1);ba.startSlide(kb,function(){L(hb,ib,!0,jb)})}function K(hb,ib,jb,kb){b('#'+d+' li.ism-slide').removeClass('ism-zoom-in');var lb=b('#'+d+' li.ism-slide-'+hb),mb=R.clone();mb.addClass('ism-slides-clone');var nb=ib/(m()-1),nb=ba.getOffsetsByRatios([nb,0]);mb.css('transform','translateX('+nb[0]+'px)'),mb.insertAfter(R.el),jb&&lb.addClass('ism-zoom-in'),jb=mb.get(0),R.fadeInto(jb,2*Q.transition_duration,function(){ba.setStep(ib+1,1,!0),b('#'+d+' .ism-slides-clone').remove(),b('#'+d+' .ism-slides').show(),b('#'+d+' .ism-slides').css('opacity',null),L(hb,ib,!0,kb)})}function L(hb,ib,jb,kb){ib=parseInt(ib),b('#'+d+' .ism-slides-clone').remove(),b('#'+d+' .ism-slides').show(),b('#'+d+' li.ism-slide').removeClass('ism-zoom-in'),jb&&F(),kb&&kb(),M(ib),O(ib),aa=!1,G('aftertransition',[ib])}function M(hb){N(),'none'!=Q.image_fx&&('zoompan'==Q.image_fx?b('#'+d+' .ism-slide-'+hb+' .ism-img-frame').addClass('ism-zoom-pan'):'zoomrotate'==Q.image_fx&&b('#'+d+' .ism-slide-'+hb+' .ism-img-frame').addClass('ism-zoom-rotate'))}function N(){b('#'+d+' .ism-slide .ism-img-frame').removeClass('ism-zoom-pan'),b('#'+d+' .ism-slide .ism-img-frame').removeClass('ism-zoom-rotate')}function O(hb){R.find('.ism-caption').css('visibility','hidden'),R.find('.ism-caption').removeClass('ism-caption-anim'),P(hb,0),P(hb,1),P(hb,2)}function P(hb,ib){Q.captions[hb]&&1==Q.captions[hb][ib].enable&&setTimeout(function(){R.find('.ism-slide-'+hb+' .ism-caption-'+ib).css('visibility','visible'),R.find('.ism-slide-'+hb+' .ism-caption-'+ib).addClass('ism-caption-anim')},Q.captions[hb][ib].delay)}var Q,R,S,T,U,V,W,X,Y,Z,aa,ba,ca={transition_type:'slide',play_type:'manual',interval:7E3,image_fx:'none',buttons:!0,radios:!0,radio_type:'button',pause_button:!0,transition_duration:350,swipe:!0},da=[{enable:!1,delay:0},{enable:!1,delay:200},{enable:!1,delay:400}],ea={};f(e,!1,e.prevent_stop_loading||!1),this.init=f,this.deinit=k,this.stopLoading=h,this.transition=I,this.listen=function(hb,ib){ea[hb]=ib},this.reflow=F,this.setTransitionType=H,this.setPlayType=n,this.setInterval=function(hb){Q.interval=hb},this.setImageFx=function(hb){hb==Q.image_fx?Q.image_fx=hb:(Q.image_fx=hb,M(T))},this.setCaptionEnable=function(hb,ib){Q.captions[hb][ib].enable=1},this.setCaptionDelay=function(hb,ib){Q.captions[hb][ib].delay=1},this.enableButtons=function(hb){!0!==hb||Q.buttons||(w(),b('#'+d+' .ism-button').remove(),v())},this.enableRadios=function(){},this.setRadioType=function(hb){'thumbnail'==hb?b('#'+d+' .ism-radios').addClass('ism-radios-as-thumbnails'):b('#'+d+' .ism-radios').removeClass('ism-radios-as-thumbnails')},this.getSlideCount=m,this.getActiveSlideIndex=function(){return T},this.setElementId=function(hb){d=document.getElementById(d).id=hb}}a.prototype.get=function(d){return this.nodes[d]},a.prototype.find=function(d){return d=this.el.querySelectorAll(d),new a(null,d)},a.prototype.index=function(){for(var d=this.el,e=0;null!=(d=d.previousSibling);)e++;return e},a.prototype.each=function(d){for(var e,f=0;f<this.nodes.length;f++)e=new a(this.nodes[f]),d.call(e,f,e)},a.prototype.remove=function(){for(var d,e=0;e<this.nodes.length;e++)d=this.nodes[e],d.parentNode.removeChild(d)},a.prototype.removeAttr=function(d){for(var e=0;e<this.nodes.length;e++)this.nodes[e].removeAttribute(d)},a.prototype.attr=function(d,e){var f=this.el;return void 0==e?f.getAttribute(d):void f.setAttribute(d,e)},a.prototype.data=function(d){return this.el.getAttribute('data-'+d)},a.prototype.hasClass=function(d){var e=this.el;return e.classList?e.classList.contains(d):new RegExp('(^| )'+d+'( |$)','gi').test(e.className)},a.prototype.addClass=function(d){for(var e,f=0;f<this.nodes.length;f++)e=this.nodes[f],e.classList?e.classList.add(d):e.className+=' '+d},a.prototype.removeClass=function(d){for(var e,f=0;f<this.nodes.length;f++)e=this.nodes[f],e.classList?e.classList.remove(d.split(' ')):e.className=e.className.replace(new RegExp('(^|\\b)'+d.split(' ').join('|')+'(\\b|$)','gi'),' ')},a.prototype.show=function(){for(var d,e=0;e<this.nodes.length;e++)d=this.nodes[e],d&&d.style&&(d.style.display='')},a.prototype.hide=function(){for(var d,e=0;e<this.nodes.length;e++)d=this.el,d&&d.style&&(d.style.display='none')},a.prototype.css=function(d,e){for(var f=0;f<this.nodes.length;f++)this.nodes[f].style[d]=e},a.prototype.fadeOut=function(d,e){a.crossFade(this.el,null,d,e)},a.prototype.fadeIn=function(d,e){a.crossFade(null,this.el,d,e)},a.prototype.fadeInto=function(d,e,f){a.crossFade(this.el,d,e,f)},a.crossFade=function(d,e,f,g){d=d||{style:{}},e=e||{style:{}},f=f||400;var h=1,j=0;d.style.opacity=h,e.style.opacity=j,d.style.filter='',e.style.filter='';var k,l=+new Date,m=function(){k=(new Date-l)/f,h-=k,j+=k,d.style.opacity=h,e.style.opacity=j,d.style.filter='alpha(opacity='+100*h|NaN,e.style.filter='alpha(opacity='+100*j|NaN,l=+new Date,0<h?window.requestAnimationFrame&&requestAnimationFrame(m)||setTimeout(m,16):(d.style.opacity=0,e.style.opacity=1,d.style.filter='',e.style.filter='',g&&g())};m()},a.prototype.wrap=function(d){for(var e=0;e<this.nodes.length;e++){var f=this.nodes[e],g=new a(f).index(),h=f.outerHTML,j=f.parentNode;f.insertAdjacentHTML('beforebegin',d),j.removeChild(f),j.childNodes[g].innerHTML=h}},a.prototype.wrapInner=function(d){var e=this.el,f=e.innerHTML;e.innerHTML=d,e.firstChild.innerHTML=f},a.prototype.unwrap=function(){var d=this.el;d.parentNode.outerHTML=d.parentNode.innerHTML},a.prototype.after=function(d){this.el.insertAdjacentHTML('afterend',d)},a.prototype.append=function(d){this.el.insertAdjacentHTML('beforeend',d)},a.prototype.insertAfter=function(d){d.parentNode.insertBefore(this.el,d.nextSibling)},a.prototype.clone=function(){return new a(this.el.cloneNode(!0))},a.prototype.on=function(d,e){for(var f,g=0;g<this.nodes.length;g++)f=this.nodes[g],f.addEventListener?f.addEventListener(d,e):f.attachEvent('on'+d,function(){e.call(f)})},a.prototype.off=function(d,e){for(var f,g=0;g<this.nodes.length;g++)f=this.nodes[g],f&&(f.removeEventListener?f.removeEventListener(d,e):f.detachEvent('on'+d,e))},b.ready=function(d){'complete'===document.readyState?setTimeout(d,1):document.addEventListener?document.addEventListener('DOMContentLoaded',d,!1):document.attachEvent('onreadystatechange',function(){'complete'===document.readyState&&d()})},window.ISM=window.ISM||{},window.ISM.Slider=c,window.ISM.Config=window.ISM.Config||{},window.ISM.instances=[],b.ready(function(){if(!0!==window.ISM.Config.no_instantiation)for(var d,e=b('.ism-slider'),f=0;f<e.length;f++)d=e.get(f),d.id=d.id||'ism-slider-'+f,window.ISM.instances.push(new c(d.id,{}))})}(),function(a,b){'function'==typeof define&&define.amd?define(b):a.Dragdealer=b()}(this,function(){function a(q){var r=['Webkit','Moz','ms','O'],t=document.documentElement.style;if(void 0!==t[q])return q;q=q.charAt(0).toUpperCase()+q.substr(1);for(var u=0;u<r.length;u++)if(void 0!==t[r[u]+q])return r[u]+q}var b=function(q,r,t){this.options=this.applyDefaults(t||{}),this.bindMethods(),this.wrapper=q,this.handle=r,this.init(),this.bindEventListeners()};b.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,activeClass:'active',css3:!0,tapping:!0,afterSwipeCallback:function(){}},init:function(){if(this.options.css3){var q=this.handle;k.backfaceVisibility&&k.perspective&&(q.style[k.perspective]='1000px',q.style[k.backfaceVisibility]='hidden')}this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.sliding=this.tapping=this.dragging=this.activity=!1,this.slide_count=0,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(q){for(var r in this.defaults)q.hasOwnProperty(r)||(q[r]=this.defaults[r]);return q},calculateStepRatios:function(){var q=[];if(1<=this.options.steps)for(var r=0;r<=this.options.steps-1;r++)q[r]=1<this.options.steps?r/(this.options.steps-1):0;return q},setWrapperOffset:function(){this.offset.wrapper=j.get(this.wrapper)},calculateBounds:function(){var q={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return q.availWidth=q.right-q.left-this.handle.offsetWidth,q.availHeight=q.bottom-q.top-this.handle.offsetHeight,q},calculateValuePrecision:function(){var q=this.options.xPrecision||Math.abs(this.bounds.availWidth),r=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[q?1/q:0,r?1/r:0]},bindMethods:function(){this.requestAnimationFrame='function'==typeof this.options.customRequestAnimationFrame?c(this.options.customRequestAnimationFrame,window):c(m,window),this.cancelAnimationFrame='function'==typeof this.options.customCancelAnimationFrame?c(this.options.customCancelAnimationFrame,window):c(n,window),this.animateWithRequestAnimationFrame=c(this.animateWithRequestAnimationFrame,this),this.animate=c(this.animate,this),this.onHandleMouseDown=c(this.onHandleMouseDown,this),this.onHandleTouchStart=c(this.onHandleTouchStart,this),this.onDocumentMouseMove=c(this.onDocumentMouseMove,this),this.onWrapperTouchMove=c(this.onWrapperTouchMove,this),this.onWrapperMouseDown=c(this.onWrapperMouseDown,this),this.onWrapperTouchStart=c(this.onWrapperTouchStart,this),this.onDocumentMouseUp=c(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=c(this.onDocumentTouchEnd,this),this.onHandleClick=c(this.onHandleClick,this),this.onWindowResize=c(this.onWindowResize,this)},bindEventListeners:function(){d(this.handle,'mousedown',this.onHandleMouseDown),d(this.handle,'touchstart',this.onHandleTouchStart),d(document,'mousemove',this.onDocumentMouseMove),d(this.wrapper,'touchmove',this.onWrapperTouchMove),d(this.wrapper,'mousedown',this.onWrapperMouseDown),d(this.wrapper,'touchstart',this.onWrapperTouchStart),d(document,'mouseup',this.onDocumentMouseUp),d(document,'touchend',this.onDocumentTouchEnd),d(this.handle,'click',this.onHandleClick),d(window,'resize',this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){e(this.handle,'mousedown',this.onHandleMouseDown),e(this.handle,'touchstart',this.onHandleTouchStart),e(document,'mousemove',this.onDocumentMouseMove),e(this.wrapper,'touchmove',this.onWrapperTouchMove),e(this.wrapper,'mousedown',this.onWrapperMouseDown),e(this.wrapper,'touchstart',this.onWrapperTouchStart),e(document,'mouseup',this.onDocumentMouseUp),e(document,'touchend',this.onDocumentTouchEnd),e(this.handle,'click',this.onHandleClick),e(window,'resize',this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(q){q.target&&'A'==q.target.tagName&&0<=q.target.className.search(/ism-caption/)&&(document.location=q.target.href),h.refresh(q),f(q),g(q),this.activity=!1,this.startDrag()},onHandleTouchStart:function(q){q.target&&'A'==q.target.tagName&&0<=q.target.className.search(/ism-caption/)&&(document.location=q.target.href),h.refresh(q),g(q),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(q){h.refresh(q),this.dragging&&(this.activity=!0,f(q))},onWrapperTouchMove:function(q){h.refresh(q),!this.activity&&this.draggingOnDisabledAxis()?this.dragging&&this.stopDrag():(f(q),this.activity=!0)},onWrapperMouseDown:function(q){q.target&&0<=q.target.className.search(/ism-(button|radio|caption)/)||(h.refresh(q),f(q),this.startTap())},onWrapperTouchStart:function(q){h.refresh(q),f(q),this.startTap()},onDocumentMouseUp:function(q){this.stopDrag(),this.stopTap(),q.target&&0<=q.target.className.search(/ism-(button|radio|caption)/)||this.options.afterSwipeCallback()},onDocumentTouchEnd:function(){this.stopDrag(),this.stopTap(),this.options.afterSwipeCallback()},onHandleClick:function(q){q.target&&0<=q.target.className.search(/ism-(button|radio)/)||!this.activity||(f(q),g(q))},onWindowResize:function(){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,'')},disable:function(){this.disabled=!0,this.handle.className+=' disabled'},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getValue:function(){return this.value.target},setStep:function(q,r,t){this.setValue(this.options.steps&&1<q?(q-1)/(this.options.steps-1):0,this.options.steps&&1<r?(r-1)/(this.options.steps-1):0,t)},setValue:function(q,r,t){this.setTargetValue([q,r||0]),t&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){!this.disabled&&this.options.tapping&&(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([h.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,h.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame),this.setWrapperOffset(),this.offset.mouse=[h.x-j.get(this.handle)[0],h.y-j.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=' '+this.options.activeClass),this.callDragStartCallback())},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var q=this.groupClone(this.value.current);if(this.options.slide){var r=this.change;q[0]+=4*r[0],q[1]+=4*r[1]}this.setTargetValue(q),this.wrapper.className=this.wrapper.className.replace(' '+this.options.activeClass,''),this.callDragStopCallback()}},callAnimationCallback:function(){var q=this.value.current;this.options.snap&&1<this.options.steps&&(q=this.getClosestSteps(q)),this.groupCompare(q,this.value.prev)||('function'==typeof this.options.animationCallback&&this.options.animationCallback.call(this,q[0],q[1]),this.groupCopy(this.value.prev,q))},callTargetCallback:function(){'function'==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},callDragStartCallback:function(){'function'==typeof this.options.dragStartCallback&&this.options.dragStartCallback.call(this,this.value.target[0],this.value.target[1])},callDragStopCallback:function(){'function'==typeof this.options.dragStopCallback&&this.options.dragStopCallback.call(this,this.value.target[0],this.value.target[1])},startSlide:function(q,r){this.slide_callback=r,this.sliding=!0,this.value.target[0]=q,this.slide_start=this.value.current[0],this.step_size=Math.abs(this.value.target[0]-this.value.current[0]),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animateWithRequestAnimationFrame:function(q){q?(this.timeOffset=this.timeStamp?q-this.timeStamp:0,this.timeStamp=q):this.timeOffset=25,this.sliding?this.animateSlide():this.animate(),this.sliding||this.dragging||this.value.target[0]!=this.value.current[0]?this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame):this.options.onAfterGlide()},animate:function(q,r){if(!q||this.dragging){if(this.dragging){var t=this.groupClone(this.value.target);this.setTargetValueByOffset([h.x-this.offset.wrapper[0]-this.offset.mouse[0],h.y-this.offset.wrapper[1]-this.offset.mouse[1]],this.options.loose),this.change=[this.value.target[0]-t[0],this.value.target[1]-t[1]]}(this.dragging||r)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||r)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var q=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return(q[0]||q[1])&&(Math.abs(q[0])>this.valuePrecision[0]||Math.abs(q[1])>this.valuePrecision[1]?(this.value.current[0]+=q[0]*Math.min(this.options.speed*this.timeOffset/25,1),this.value.current[1]+=q[1]*Math.min(this.options.speed*this.timeOffset/25,1)):this.groupCopy(this.value.current,this.value.target),!0)},animateSlide:function(){for(var q=this.value.target[0]-this.value.current[0],r=0<=q?1:-1,q=Math.abs(q),t=(this.value.current[0]-this.slide_start)/(this.value.target[0]-this.slide_start),u=t-.5,u=.08*((-3*u*u+.8)*this.step_size);u>q;)u*=.5;.995<t?(this.groupCopy(this.value.current,this.value.target),this.sliding=!1,this.slide_callback()):this.value.current[0]+=r*u,this.updateOffsetFromValue(),this.renderHandlePosition(),isNaN(t)},updateOffsetFromValue:function(){this.offset.current=this.options.snap?this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.getOffsetsByRatios(this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var q='';this.options.css3&&k.transform?(this.options.horizontal&&(q+='translateX('+this.offset.current[0]+'px)'),this.handle.style[k.transform]=q):this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+'px')},setTargetValue:function(q,r){var t=r?this.getLooseValue(q):this.getProperValue(q);this.groupCopy(this.value.target,t),this.offset.target=this.getOffsetsByRatios(t),this.callTargetCallback()},setTargetValueByOffset:function(q,r){var t=this.getRatiosByOffsets(q),t=r?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,t),this.offset.target=this.getOffsetsByRatios(t)},getLooseValue:function(q){var r=this.getProperValue(q);return[r[0]+(q[0]-r[0])/4,r[1]+(q[1]-r[1])/4]},getProperValue:function(q){return q=this.groupClone(q),q[0]=Math.max(q[0],0),q[1]=Math.max(q[1],0),q[0]=Math.min(q[0],1),q[1]=Math.min(q[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&1<this.options.steps&&(q=this.getClosestSteps(q)),q},getRatiosByOffsets:function(q){return[this.getRatioByOffset(q[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(q[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(q,r,t){return r?(q-t)/r:0},getOffsetsByRatios:function(q){return[this.getOffsetByRatio(q[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(q[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(q,r,t){return Math.round(q*r)+t},getStepNumber:function(q){return this.getClosestStep(q)*(this.options.steps-1)+1},getClosestSteps:function(q){return[this.getClosestStep(q[0]),this.getClosestStep(q[1])]},getClosestStep:function(q){for(var r=0,t=1,u=0;u<=this.options.steps-1;u++)Math.abs(this.stepRatios[u]-q)<t&&(t=Math.abs(this.stepRatios[u]-q),r=u);return this.stepRatios[r]},groupCompare:function(q,r){return q[0]==r[0]&&q[1]==r[1]},groupCopy:function(q,r){q[0]=r[0],q[1]=r[1]},groupClone:function(q){return[q[0],q[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&h.xDiff>h.yDiff||!this.options.vertical&&h.yDiff>h.xDiff}};for(var c=function(q,r){return function(){return q.apply(r,arguments)}},d=function(q,r,t){q.addEventListener?q.addEventListener(r,t,!1):q.attachEvent&&q.attachEvent('on'+r,t)},e=function(q,r,t){q.removeEventListener?q.removeEventListener(r,t,!1):q.detachEvent&&q.detachEvent('on'+r,t)},f=function(q){q||(q=window.event),q.preventDefault&&q.preventDefault(),q.returnValue=!1},g=function(q){q||(q=window.event),q.stopPropagation&&q.stopPropagation(),q.cancelBubble=!0},h={x:0,y:0,xDiff:0,yDiff:0,refresh:function(q){q||(q=window.event),'mousemove'==q.type?this.set(q):q.touches&&this.set(q.touches[0])},set:function(q){var r=this.x,t=this.y;q.clientX||q.clientY?(this.x=q.clientX,this.y=q.clientY):(q.pageX||q.pageY)&&(this.x=q.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=q.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-r),this.yDiff=Math.abs(this.y-t)}},j={get:function(q){var r={left:0,top:0};return void 0!==q.getBoundingClientRect&&(r=q.getBoundingClientRect()),[r.left,r.top]}},k={transform:a('transform'),perspective:a('perspective'),backfaceVisibility:a('backfaceVisibility')},l=['webkit','moz'],m=window.requestAnimationFrame,n=window.cancelAnimationFrame,p=0;p<l.length&&!m;++p)m=window[l[p]+'RequestAnimationFrame'],n=window[l[p]+'CancelAnimationFrame']||window[l[p]+'CancelRequestAnimationFrame'];return m||(m=function(q){return setTimeout(q,25)},n=clearTimeout),b});
